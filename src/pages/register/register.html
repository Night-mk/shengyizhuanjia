<!--
  Generated template for the RegisterPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>
    <ion-navbar>
        <ion-title>RegisterPage</ion-title>
    </ion-navbar>
</ion-header>

<ion-content no-padding>
    <div [style.margin-top]="'30px'" text-center>
        <img class="logo" src="assets/images/logo.png" alt="">
    </div>
    <!--注册导航图示-->
    <ion-grid>
        <ion-row padding>
            <ion-col>
                <img src="assets/images/registered_one.png" alt="" *ngIf="registerSlides.getActiveIndex()!=0">
                <img src="assets/images/registered_one_one.png" alt="" *ngIf="registerSlides.getActiveIndex()==0">
                <!--<img src="assets/images/registered_one_one.png" alt="">-->
            </ion-col>
            <ion-col align-self-center>
                <hr class="register-icon-line">
            </ion-col>
            <ion-col>
                <img src="assets/images/registered_two.png" alt="" *ngIf="registerSlides.getActiveIndex()!=1">
                <img src="assets/images/registered_two_two.png" alt="" *ngIf="registerSlides.getActiveIndex()==1">
            </ion-col>
            <ion-col align-self-center>
                <hr class="register-icon-line">
            </ion-col>
            <ion-col>
                <img src="assets/images/registered_three.png" alt="" *ngIf="registerSlides.getActiveIndex()!=2">
                <img src="assets/images/registered_three_three.png" alt="" *ngIf="registerSlides.getActiveIndex()==2">
            </ion-col>
            <ion-col align-self-center>
                <hr class="register-icon-line">
            </ion-col>
            <ion-col>
                <img src="assets/images/register_four.png" alt="" *ngIf="registerSlides.getActiveIndex()!=3">
                <img src="assets/images/register_four_four.png" alt="" *ngIf="registerSlides.getActiveIndex()==3">
            </ion-col>
        </ion-row>
    </ion-grid><!-- end 注册导航图示-->

    <!--注册详情内容-->
    <div class="height:auto;">
        <ion-slides #registerSlides>
            <!--手机号注册-->
            <ion-slide padding>
                <!--phoneForm变量是一个到NgForm指令的引用，它代表该表单的整体-->
                <form #phoneForm="ngForm">
                    <ion-item>
                        <!--老师给的代码有问题-->
                        <ion-input name="phone" placeholder="请输入您的手机号码"
                                   required pattern="^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,5-9]))\\d{8}$"
                                   #phone="ngModel" [(ngModel)]="register.phone">
                        </ion-input>
                    </ion-item>
                    <ion-grid *ngIf="phone.invalid && phone.touched">
                        <p [hidden]="!phone.errors?.required">请输入手机号码</p>
                        <p [hidden]="!phone.errors?.pattern">您输入的手机号格式不正确</p>
                    </ion-grid>
                    <button type="submit" ion-button block parmary [disabled]="phoneForm.invalid" class="btn-base-color" (click)="next()">下一步</button>
                </form>
            </ion-slide><!-- end 手机号注册-->
            <!--验证码填写-->
            <ion-slide padding>
                <ion-grid>
                    <form #codeForm="ngForm">
                        <ion-row>
                            <ion-col>
                                <ion-input name="code" placeholder="请输入验证码"
                                            #authenCode="ngModel" [(ngModel)]="register.code"></ion-input>
                            </ion-col>
                            <ion-col>
                                <button ion-button block  color="primary" class="btn-base-color" (click)="sendAuthCode();showEndTime()"
                                *ngIf="seconds==0">发送验证码</button>
                                <button ion-button block  color="primary" class="btn-base-color" disabled
                                *ngIf="seconds>0">{{seconds}}</button>
                            </ion-col>
                        </ion-row>
                    </form>
                    <ion-row>
                        <button ion-button block  color="primary" class="btn-base-color" (click)="previous()">上一步</button>
                    </ion-row>
                    <ion-row>
                        <button ion-button block  color="primary" class="btn-base-color" (click)="validateCode()">下一步</button>
                    </ion-row>
                </ion-grid>
                <!--<button ion-button block  color="primary" class="btn-base-color" (click)="previous()">上一步</button>-->
                <!--<button ion-button block  color="primary" class="btn-base-color" (click)="next()">下一步</button>-->
            </ion-slide><!-- end 验证码填写-->
            <!--店铺名称、邮箱、密码填写-->
            <ion-slide padding>
                <form #detailsForm="ngForm">
                    <ion-item>
                        <ion-input name="shopName" placeholder="请输入店铺名称" #shopName="ngModel" [(ngModel)]="register.shopName"></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-input name="email" placeholder="请输入电子邮箱" #email="ngModel" [(ngModel)]="register.email"></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-input type="password" name="password" placeholder="请输入登陆密码"
                                   #loginPassword="ngModel" [(ngModel)]="register.password"></ion-input>
                    </ion-item>
                    <ion-item>
                        <ion-input type="password" name="confirmPassword" placeholder="请输入确认密码"
                                   #loginConfirmPassword="ngModel" [(ngModel)]="register.confirmPassword"></ion-input>
                    </ion-item>
                    <!--<ion-grid *ngIf="loginPassword!=loginConfirmPassword && loginConfirmPassword.touched">-->
                        <!--<p [hidden]="loginPassword==loginConfirmPassword">您输入的确认密码不正确</p>-->
                    <!--</ion-grid>-->
                    <button ion-button block  color="primary" class="btn-base-color" (click)="previous()">上一步</button>
                    <button ion-button block  color="primary" class="btn-base-color" (click)="submitUserData()">下一步</button>
                </form>
            </ion-slide><!-- end 店铺名称、邮箱、密码填写-->
            <!--注册成功-->
            <ion-slide padding>
                <button ion-button block  color="primary" class="btn-base-color" (click)="gotoLogin()">注册成功</button>
                <!--<button ion-button block  color="primary" class="btn-base-color">注册成功</button>-->
            </ion-slide><!-- end 注册成功-->
        </ion-slides><!-- end 注册详情内容-->
    </div>

</ion-content>
